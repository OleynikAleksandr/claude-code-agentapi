# Changelog

Все изменения в проекте Claude Code AgentAPI будут документированы в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
и проект придерживается [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [0.3.3] - 2025-07-16
### Добавлено
- Динамическое изменение частоты polling экрана для интерактивных сообщений
- Детектирование интерактивных сообщений по заголовкам ("Select IDE", "Resume Session", etc.)
- Ускорение обновления до 75ms при интерактивных сообщениях (было 1000ms)
### Изменено
- Улучшена отзывчивость интерфейса при работе с интерактивными элементами

## [0.3.2] - 2025-07-16
### Убрано
- Элементы управления под полем ввода (стрелки ↑↓←→, Enter, Escape)
- Упоминание о клавишах управления в дружелюбном сообщении
### Изменено
- Тестовая версия для проверки стабильности отображения сообщений Assistant

## [0.3.1] - 2025-07-16
### Изменено
- Убран автоскролл в чате - теперь можно спокойно читать историю сообщений
- Скролл остается на месте при обновлении сообщений
### Исправлено
- Проблема с невозможностью прокрутки истории чата вверх

## [0.3.0] - 2025-07-16
### Базируется на
- Стабильной версии 0.1.3 (полная копия)
### Изменено
- Добавлена проверка символа ⎿ в функцию displayScreen
### Сохранено
- ВСЕ функции из версии 0.1.3:
  - Три вкладки: Chat, Screen, Raw Data
  - Чекбокс "Авто-переключение"
  - Кнопки управления: стрелки ↑↓←→, Enter, Escape
  - Кнопка Raw Data Output
  - Output каналы для диагностики

## [0.2.0] - 2025-07-16
### Изменено
- Убраны все отладочные console.log сообщения для чистоты консоли
- Оптимизирована частота polling с 1 секунды до 500мс
- Убрано логирование в Screen Output канал при каждом обновлении

### Проблемы
- ⚠️ Сообщения исчезают из чата через какое-то время

## [0.1.9] - 2025-07-16
### Исправлено
- Логика отображения дружелюбного сообщения (показывается только когда нет сообщений)
- Включен screen subscription через endpoint /screen
### Добавлено
- Отладочные сообщения для диагностики фильтрации

### Проблемы
- ⚠️ Избыточное логирование в консоль

## [0.1.8] - 2025-07-16
### Добавлено
- Фильтрация слэш команд (не отображаются в чате)
- Многострочное поле ввода (textarea вместо input)
- Автоматическое изменение высоты поля ввода
- Поддержка Shift+Enter для новой строки

## [0.1.7] - 2025-07-16
### Возвращено
- Вкладки Chat и Screen для корректного отображения
- Функция автоматического переключения между вкладками
### Сохранено
- Кнопка Raw Data Output
- Убраны кнопки управления (стрелки, Enter, Escape)

## [0.1.6] - 2025-07-16
### Возвращено
- Кнопка Raw Data Output (необходима для обновления данных)

## [0.1.5] - 2025-07-16
### Убрано
- Вкладки Screen и Raw Data
- Кнопки стрелок, Enter и Escape
- Чекбокс автопереключения
- Кнопка Raw Data Output

### Проблемы
- ⚠️ Начались проблемы с отображением сообщений

## [0.1.4] - 2025-07-16
### Исправлено
- Добавлена проверка символа ⎿ в пустом содержимом
- Улучшена проверка для формата "  ⎿  (no content)  ..."
- Добавлена проверка на пустую строку без trim

## [0.1.3] - 2025-07-16 ✅ СТАБИЛЬНАЯ ВЕРСИЯ
### Добавлено
- Вкладки: Chat, Screen, Raw Data
- Чекбокс "Авто-переключение"
- Кнопки управления: стрелки ↑↓←→, Enter, Escape
- Output каналы для диагностики
### Состояние
- ✅ Все функции работают стабильно
- ✅ Сообщения отображаются корректно

## [0.1.2] - 2025-07-16
### Добавлено
- Контроль автопереключения вкладок

## [0.1.1] - 2025-07-16
### Добавлено
- Вкладка Raw Data

## [0.1.0] - 2025-07-16
### Исправлено
- Ошибка EventSource (отключен screen subscription)

## [0.0.9] - [0.0.5] - 2025-07-16
### Попытки
- Различные попытки исправить "(no content)"

## [0.0.4] - 2025-07-16
### Добавлено
- Поддержка реальных клавиш клавиатуры

## [0.0.3] - 2025-07-16
### Добавлено
- Screen subscription (не работал)

## [0.0.2] - 2025-07-16
### Исправлено
- Тип сообщения с 'user' на 'raw' для специальных клавиш

## [0.0.1] - 2025-07-16
### Начальная версия
- Базовая функциональность расширения
- Интеграция с AgentAPI
- Веб-панель для чата